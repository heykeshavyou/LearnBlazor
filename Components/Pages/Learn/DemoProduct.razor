@page "/Learn/DemoProduct"
<PageTitle>Demo Product</PageTitle>
<h3>DemoProduct</h3>
<div class="row">
	<p>Fav : @fav</p>
	<p>Selected: @Selected</p>
	@foreach(var item in ProductList)
	{
		<_ListViewOfProduct product="@item" OnFavUpdate="addtofav" SeletedName="seletedname"></_ListViewOfProduct>
	}
</div>


@code {
	int fav = 0;
	string Selected = "";
	List<Product> ProductList = new();
	protected override void OnInitialized()
	{
		ProductList.Add(new()
			{
				Id = 1,
				Name = "Midnight Blaze",
				IsActive = false,
				price=67.00,
				products = new List<products_prop>()
				{
				new products_prop { Id = 1, Key = "Flavor", Value = "Rose"},
					 new products_prop { Id = 2, Key = "Size", Value = "20oz"},
					new products_prop { Id = 3, Key = "Color", Value="Purple" }
				}
			});

		ProductList.Add(new()
			{
				Id = 2,
				Name = "Blossom Lily",
				IsActive = true,
				price = 67.00,
				products = new List<products_prop>()
			{
				new products_prop { Id = 1, Key = "Flavor", Value = "Lily" },
				new products_prop { Id = 2, Key = "Size", Value = "18oz" },
				new products_prop {Id = 3,Key = "Color",Value = "White"}
			}
			});
	}
	void delete(int a)
	{
		var prod = ProductList.FirstOrDefault(x => x.Id == a);
		ProductList.Remove(prod);
	}
	void addtofav(bool a)
	{
		if (a)
		{
			fav++;
		}
		else
		{
			fav--;
		}
	}
	void seletedname(string name)
	{
		Selected = name;
	}
}
